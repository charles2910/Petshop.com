const db = require ('couchDb');

async function addUser (user, res) {
    await db.addUser(user);
    res.send(user);
}

async function updateUser(user, res) {
    await db.updateUser(user);
    res.send(user);
}

async function findUser (email, res) {
    const user = await db.findUser(email);
    res.send(user);
}

async function addProduto(produto, res) {
    await db.addProduto(produto);
    res.send(produto);
}

async function updateProduto(produto, res) {
    await db.updateProduto(produto);
    res.send(produto);
}

async function removeProduto(produto, res) {
    await db.removeProduto(produto);
    res.send(produto);
}

async function findProduto(codigo, res) {
    const produto = await db.findProduto(codigo);
    res.send(produto);
}

async function findProdutos(inicio, qtd, filtro, tipo, res) {
    const lista = await db.findProdutos(inicio, qtd, filtro, tipo);
    res.send(lista);
}

async function buscaProduto(nome, res) {
    const lista = await db.buscaProduto(nome);
    res.send(lista);
}

async function addAgendamento(agendamento, res) {
    await db.addAgendamento(agendamento);
    res.send(agendamento);
}

async function findAgendamento(data, res) {
    const agendamento = await db.findAgendamento(data);
    res.send(agendamento);
}

async function addServico(servico, res) {
    await db.addServico(servico);
    res.send(servico);
}

async function updateServico(servico, res) {
    await db.updateServico(servico);
    res.send(servico);
}

async function getServico(id, res) {
    const servico = await db.findServico(id);
    res.send(servico);
}

async function getServicos(res) {
    const servicos = await db.getServicos();
    res.send(servicos);
}

module.exports = {addUser, updateUser, findUser, addProduto, updateProduto, removeProduto,
    findProduto, findProdutos, buscaProduto, addAgendamento, findAgendamento,
    addServico, updateServico, getServicos, getServico};
